<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Args: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Args
   &#160;<span id="projectnumber">5.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Args Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="compiling"></a>
Compilling</h1>
<p>Just run build.rb which is a Ruby program and a project file or use QMake or CMake project.</p>
<h2><a class="anchor" id="requirements"></a>
Requirements</h2>
<p>For compiling Args with Ruby you should have installed:</p>
<ul>
<li>Ruby programming language (<a href="http://www.ruby-lang.org/en/">http://www.ruby-lang.org/en/</a>) </li>
<li>mxx_ru Ruby gem (<a href="https://sourceforge.net/p/mxxru/wiki/Home/">https://sourceforge.net/p/mxxru/wiki/Home/</a>)</li>
</ul>
<p>or use</p>
<ul>
<li>QMake or CMake</li>
</ul>
<h1><a class="anchor" id="syntax"></a>
Syntax</h1>
<ul>
<li>Argument starts with two dashes. For example <code>&ndash;argument</code>. </li>
<li>Flag starts with one dash. For example <code>-b</code>. </li>
<li>If argument has value than value can be specified after space or after equal sign. For example <code>&ndash;argument</code> <code>value</code> and <code>&ndash;argument=value</code>. </li>
<li>Flags without values can be combined into one block. For example <code>-abc</code> defines three flags <code>-a</code>, <code>-b</code> and <code>-c</code>. </li>
<li>The last flag in flag's block can be with value. Then it's possible to type the next <code>-abc=value</code>. And here flag <code>-c</code> will have value <code>value</code>. </li>
<li><code>MultiArg</code> class provides ability to define more than one value for argument. This type of arguments can be specified more than once in the command line. And the resulted value of the argument will be <code>StringList</code>. </li>
<li><code>Command</code> class can be used to define command in command line interface. Command is the argument without dash/dashes at the beginning, <code>add</code> for example. </li>
<li>Command can has children arguments or even subcommands. Subcommand can be added using <code>ArgAsCommand</code> class. </li>
<li>In Args groups can be used to group arguments into groups to check their definitions after parsing, so if constraint of group will be violated exception will be thrown. </li>
<li>Args provides <code>Help</code> argument that provides help printing. <code>Help</code> uses <code>-h</code>, <code>&ndash;help</code> arguments. <code>Help</code> can receive value with name of argument or command to print help about. If <code>Help</code> will receive name of the command as value then can be set second value with name of subcommand or child argument to receive help about child argument. </li>
<li>If Args don't know about argument in command line interface it provides information about possible arguments if some misspelling was in command line interface. If Args can't assume anything about entered argument it will just say about unknown argument through the exception and parsing will fail.</li>
</ul>
<h1><a class="anchor" id="types"></a>
Different types of strings.</h1>
<p>Since version 4.0.0 Args can be built with different strings - std::string, std::wstring and QString.</p>
<ul>
<li>To build Args with <code>std::wstring</code> support define <code>ARGS_WSTRING_BUILD</code> </li>
<li>To build Args with <code>QString</code> support define <code>ARGS_QSTRING_BUILD</code> </li>
<li>If nothing was defined then Args will be build with <code>std::string</code>.</li>
</ul>
<h1><a class="anchor" id="stringlist"></a>
Different types of list of strings.</h1>
<p>Args extensively uses list of string in internal structures and to return values of arguments outside. In the code this is <code>StringList</code> type defined in <code><a class="el" href="types_8hpp.html">Args/types.hpp</a></code>. By default underlying type is <code>std::vector</code> or <code>QVector</code> when building with Qt that can be changed to <code>std::list</code>, <code>QLinkedList</code> or <code>std::deque</code>, <code>QList</code>.</p>
<ul>
<li>Define <code>ARGS_LIST</code> to build Args with <code>std::list</code>, <code>QLinkedList</code> as <code>StringList</code> </li>
<li>Define <code>ARGS_DEQUE</code> to build Args with <code>std::deque</code>, <code>QList</code> as <code>StringList</code> </li>
</ul>
<h1><a class="anchor" id="qa"></a>
Q/A</h1>
<p>Why not to add description, long description, etc into constructors of arguments, so it will be possible to initialize argument in one line?</p>
<ul>
<li>This is impossible because constructors will be ambiguous but you can use auxiliary API that allows to define arguments in one line of code.</li>
</ul>
<p>How can I add Args to my project?</p>
<ul>
<li>The simplest way is just copy Args directory with headers to any location in your project. With CMake you can clone entire Args project somewhere in your project and just do <code>add_subdirectory()</code>, if you will do so you have to add include directory path to your project with <code>include_directories</code>( <code>${Args_INCLUDE_DIRECTORIES}</code> <code></code>). With QMake you can use <code>Args/Args.pri</code>.</li>
</ul>
<h1><a class="anchor" id="example"></a>
Example</h1>
<p>First of all you must know that practically all classes of the Args throws exceptions on errors and there is one specific exceptions that inform you about that that help was shown. This specific exception (<code>HelpHasBeenPrintedException</code>) is needed for processing program's logic that usually stops execution at this point.</p>
<p>Since version 5.0.0 Args provides two API: the old one and auxiliary API that allows to define arguments in one line of code. Let's look.</p>
<div class="fragment"><div class="line"><span class="comment">// Args include.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="all_8hpp.html">Args/all.hpp</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_args.html">Args</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> ** argv )</div><div class="line">{</div><div class="line">  <span class="keywordflow">try</span> {</div><div class="line">    <a class="code" href="class_args_1_1_cmd_line.html">CmdLine</a> cmd( argc, argv, <a class="code" href="class_args_1_1_cmd_line.html#a9e51a8cd221a0fb082048dd6fff2c01aac88ed952379981b912732f0ed4b61e4e">CmdLine::CommandIsRequired</a> );</div><div class="line"></div><div class="line">    cmd.addCommand( <span class="stringliteral">&quot;add&quot;</span>, ValueOptions::NoValue,</div><div class="line">          <span class="stringliteral">&quot;Add file.&quot;</span> )</div><div class="line">        .addAllOfGroup( <span class="stringliteral">&quot;file group&quot;</span> )</div><div class="line">          .addSubCommand( <span class="stringliteral">&quot;file&quot;</span>, <span class="keyword">false</span>, ValueOptions::NoValue )</div><div class="line">          .addArgWithFlagAndName( <span class="charliteral">&#39;f&#39;</span>, <span class="stringliteral">&quot;file&quot;</span>, <span class="keyword">true</span>, <span class="keyword">false</span>,</div><div class="line">            <span class="stringliteral">&quot;Name of the file.&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,</div><div class="line">            <span class="stringliteral">&quot;fn&quot;</span> )</div><div class="line">        .end()</div><div class="line">        .addArgWithFlagOnly( <span class="charliteral">&#39;d&#39;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="stringliteral">&quot;Do job.&quot;</span> )</div><div class="line">      .end()</div><div class="line">      .addCommand( <span class="stringliteral">&quot;delete&quot;</span>, ValueOptions::NoValue,</div><div class="line">          <span class="stringliteral">&quot;Delete file.&quot;</span> )</div><div class="line">        .addArgWithFlagOnly( <span class="charliteral">&#39;d&#39;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>,</div><div class="line">          <span class="stringliteral">&quot;Do NOT job.&quot;</span> )</div><div class="line">      .end()</div><div class="line">      .addArgWithFlagAndName( <span class="charliteral">&#39;r&#39;</span>, <span class="stringliteral">&quot;recursive&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>,</div><div class="line">        <span class="stringliteral">&quot;Do operation recursively?&quot;</span> )</div><div class="line">      .addHelp( <span class="keyword">true</span>, argv[ 0 ],</div><div class="line">        <span class="stringliteral">&quot;This application just show power of the Args help.&quot;</span> );</div><div class="line"></div><div class="line">    cmd.parse();</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( cmd.isDefined( <span class="stringliteral">&quot;-f&quot;</span> ) )</div><div class="line">      <span class="keyword">const</span> <span class="keyword">auto</span> file = cmd.value( <span class="stringliteral">&quot;-f&quot;</span> );</div><div class="line">  }</div><div class="line">  <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code" href="class_args_1_1_help_has_been_printed_exception.html">HelpHasBeenPrintedException</a> &amp; )</div><div class="line">  {</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">  }</div><div class="line">  <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code" href="class_args_1_1_base_exception.html">BaseException</a> &amp; x )</div><div class="line">  {</div><div class="line">    outStream() &lt;&lt; x.<a class="code" href="class_args_1_1_base_exception.html#a13b3de9b6eb0fe2653233f848c5bcca9">desc</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 1;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>And with the old syntax.</p>
<div class="fragment"><div class="line"><span class="comment">// Args include.</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="all_8hpp.html">Args/all.hpp</a>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// C++ include.</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> ** argv )</div><div class="line">{</div><div class="line">  <span class="keywordflow">try</span> {</div><div class="line">    <span class="comment">// We create Args::CmdLine instance for parsing</span></div><div class="line">    <span class="comment">//  command line arguments.</span></div><div class="line">    <a class="code" href="class_args_1_1_cmd_line.html">Args::CmdLine</a> cmd( argc, argv );</div><div class="line"></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// And create our arguments.</span></div><div class="line">    <span class="comment">//</span></div><div class="line"></div><div class="line">    <span class="comment">// This is argument with flag &quot;-o&quot; and name &quot;--host&quot;.</span></div><div class="line">    <span class="comment">// He is with value and required.</span></div><div class="line">    <a class="code" href="class_args_1_1_arg.html">Args::Arg</a> host( <span class="charliteral">&#39;o&#39;</span>, <span class="stringliteral">&quot;host&quot;</span>,</div><div class="line">      <span class="comment">// Argument is with value.</span></div><div class="line">      <span class="keyword">true</span>,</div><div class="line">      <span class="comment">// Argument is required.</span></div><div class="line">      <span class="keyword">true</span> );</div><div class="line">    <span class="comment">// Set description of the argument.</span></div><div class="line">    host.setDescription( <span class="stringliteral">&quot;Host. Can be \&quot;localhost\&quot;, \&quot;any\&quot; or regular IP.&quot;</span> );</div><div class="line">    <span class="comment">// We can specify long description too.</span></div><div class="line">    host.setLongDescription( <span class="stringliteral">&quot;Host. This argument told to the application &quot;</span></div><div class="line">      <span class="stringliteral">&quot;where to open socket for communication.&quot;</span> );</div><div class="line"></div><div class="line">    <a class="code" href="class_args_1_1_arg.html">Args::Arg</a> port( <span class="charliteral">&#39;p&#39;</span>, <span class="stringliteral">&quot;port&quot;</span>, <span class="keyword">true</span>, <span class="keyword">true</span> );</div><div class="line">    port.setDescription( <span class="stringliteral">&quot;Port number to create socket.&quot;</span> );</div><div class="line"></div><div class="line">    <span class="comment">// This argument have name &quot;--timeout&quot; only.</span></div><div class="line">    <span class="comment">// He is with value but optional.</span></div><div class="line">    <a class="code" href="class_args_1_1_arg.html">Args::Arg</a> timeout( <span class="stringliteral">&quot;timeout&quot;</span>, <span class="keyword">true</span> );</div><div class="line">    <span class="comment">// This argument want to specify value specifier in the help. Let&#39;s do it.</span></div><div class="line">    timeout.setValueSpecifier( <span class="stringliteral">&quot;ms&quot;</span> );</div><div class="line">    timeout.setDescription( <span class="stringliteral">&quot;Timeout before new messages will be sent &quot;</span></div><div class="line">      <span class="stringliteral">&quot;in milliseconds.&quot;</span> );</div><div class="line"></div><div class="line">    <span class="comment">// We create help now.</span></div><div class="line">    <a class="code" href="class_args_1_1_help.html">Args::Help</a> help;</div><div class="line">    <span class="comment">// Set executable name to the help printer.</span></div><div class="line">    help.<a class="code" href="class_args_1_1_help.html#a48a728755a2dff6c3a1bcfffcf565b25">setExecutable</a>( argv[ 0 ] );</div><div class="line">    <span class="comment">// And set description of the application.</span></div><div class="line">    help.<a class="code" href="class_args_1_1_help.html#a9c0fd6b01d09eb02e29fecf81d34409c">setAppDescription</a>( <span class="stringliteral">&quot;This application just show &quot;</span></div><div class="line">      <span class="stringliteral">&quot;the power of Args.&quot;</span> );</div><div class="line"></div><div class="line">    <span class="comment">// Now add our argument to the command line.</span></div><div class="line">    cmd.addArg( host );</div><div class="line">    cmd.addArg( port );</div><div class="line">    cmd.addArg( timeout );</div><div class="line">    cmd.addArg( help );</div><div class="line"></div><div class="line">    <span class="comment">// Now parse our arguments.</span></div><div class="line">    cmd.parse();</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span>( timeout.isDefined() )</div><div class="line">      <span class="keyword">auto</span> timeoutValue = timeout.value();</div><div class="line">  }</div><div class="line">  <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code" href="class_args_1_1_help_has_been_printed_exception.html">Args::HelpHasBeenPrintedException</a> &amp; )</div><div class="line">  {</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">  }</div><div class="line">  <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code" href="class_args_1_1_base_exception.html">Args::BaseException</a> &amp; x )</div><div class="line">  {</div><div class="line">    std::cout &lt;&lt; x.<a class="code" href="class_args_1_1_base_exception.html#a13b3de9b6eb0fe2653233f848c5bcca9">desc</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 1;</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>Help output for the example with the old syntax.</p>
<pre class="fragment">This application just show the power of Args.

USAGE: sample.help.exe -s, --host &lt;arg&gt; -p, --port &lt;arg&gt; [ -h, --help &lt;arg&gt; ]
       [ --timeout &lt;ms&gt; ]

REQUIRED:
 -s, --host &lt;arg&gt;   Host. Can be "localhost", "any" or regular IP.

 -p, --port &lt;arg&gt;   Port number to create socket.

OPTIONAL:
 -h, --help &lt;arg&gt;   Print this help.

     --timeout &lt;ms&gt; Timeout before new messages will be sent in milliseconds.
</pre><p>That's it. Use it and enjoy it. Good luck. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
